<!DOCTYPE html>
<html>
<head>
 <title>Zaman Ishtiyaq - Resume</title>
 <script src=" https://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js" type="text/javascript"></script> 
  <script src="processing.js" type="text/javascript"></script> 
<script type="application/processing" data-processing-target="pjs">   

PImage img;
PGraphics mask;
PFont Font1, Font2;

int incrx=200, incry=200;
int padd=300;
Ball[] balls = new Ball[350000];
int howMany = 2300;
float[] x = new float[howMany];
float[] y = new float[howMany];
float[] speed = new float[howMany];
TextManager t;
float X=width/2;
float Y=height/2;
float L=width/2;
float S=height/2;
float fade;
int textsize=19;
boolean notClicked=true;
float heightOfWindow, widthOfWindow;
int buttonsizex=150;
int buttonsizey=50;
boolean storybuttonClicked=false;
boolean resumebuttonClicked=false;
boolean firstTime=true;
int b=0;
void setup() {

  size( $(window).width(), $(window).height() );
  widthOfWindow=$(window).width(); 
  heightOfWindow=$(window).height();
  // size( displayWidth, displayHeight);
  // widthOfWindow=displayWidth; 
  // heightOfWindow=displayHeight;

  img = loadImage("sometimes-happy-5.png");
  background(255);
  noStroke();
  smooth();
  initializeRain();
  t = new TextManager();
  textSize(random(10, 20));
  textAlign(CENTER, CENTER);
  frameRate(60);
  background(255);
}


void draw() {

  if (!storybuttonClicked)
    StoryButton(widthOfWindow/2-padd, heightOfWindow/2);
  if (!resumebuttonClicked)
    ResumeButton(widthOfWindow/2+padd, heightOfWindow/2);

  if (firstTime) {
    loadStart();
  }

  if (storybuttonClicked)
  {
    if (firstTime) {
      fill(255);
      rectMode(NORMAL);
      rect(0, 0, widthOfWindow, heightOfWindow);
    }
    firstTime=false;
    wherevermouseis2();
    wherevermouseis2();
    if (mouseY > 0 && mouseY < heightOfWindow && mouseX > 0 && mouseX < widthOfWindow && isMouseMoving(X, Y, 70)) {

      fill(255, 10);
      rectMode(NORMAL);
      rect(0, 0, widthOfWindow, heightOfWindow);
      paintWordAtPoint(mouseX, mouseY);
      X=mouseX;
      Y=mouseY;
    }
    createResumeButton(widthOfWindow-padd/3, padd/8);
    if (!resumebuttonClicked)
      ResumeButton(widthOfWindow-padd/3, padd/8);
  }

  if (resumebuttonClicked)
  {
    firstTime=false;
    fill(255, 23);

    rectMode(NORMAL);
    rect(0, 0, widthOfWindow, heightOfWindow);
    wherevermouseis();
    calltheRain();
    createStoryButton(padd/3, padd/8);
    BuildResume();
    if (!storybuttonClicked) {
      StoryButton(padd/3, padd/8);
    }
  }
}


void paintWordAtPoint(int locX, int locY) {

  float offX = random(5, 14), offY = random(5, 14);
  Font1 = createFont("Arial", random(textsize, textsize+5));
  textFont(Font1);
  fill(random(0, 255), 102, 153);
  text(t.getWord(), locX + offX, locY + offY);
}


//FUNCTIONS --------------

void createStoryButton(float X, float Y) {
  fill(245, 102, 153);
  rectMode(CENTER);
  rect(X, Y, buttonsizex, buttonsizey);
  fill(255);
  rect(X, Y, buttonsizex-10, buttonsizey-10);
  Font2 = createFont("Arial", 15);
  textFont(Font2);
  textMode(CENTER);
  fill(153, 102, 153);
  text("Story Mode", X, Y);
}

void createResumeButton(float X, float Y) {
  fill(124, 102, 153);
  rectMode(CENTER);
  rect(X, Y, buttonsizex, buttonsizey);
  fill(255);
  rect(X, Y, buttonsizex-10, buttonsizey-10);
  Font2 = createFont("Arial", 15);
  textFont(Font2);
  textMode(CENTER);
  fill(154, 102, 153);
  text("Resume", X, Y);
}


void StoryButton(float X, float Y) {
  float cenx_loc=X;
  float ceny_loc=Y;
  if (mousePressed && mouseX<cenx_loc+buttonsizex/2 && mouseX>cenx_loc-buttonsizex/2 && mouseY<ceny_loc+buttonsizey/2 && mouseY>ceny_loc-buttonsizey/2)
  { 
    storybuttonClicked=!storybuttonClicked;
    background(255);
    resumebuttonClicked=false;
  }
}

void ResumeButton(float X, float Y) {
  float cenx_loc=X;
  float ceny_loc=Y;
  if (mousePressed && mouseX<cenx_loc+buttonsizex/2 && mouseX>cenx_loc-buttonsizex/2 && mouseY<ceny_loc+buttonsizey/2 && mouseY>ceny_loc-buttonsizey/2)
  {
    resumebuttonClicked=!resumebuttonClicked;
    storybuttonClicked=false;
  }
}

void mousePressed() {
}

void wherevermouseis() {
  stroke(random(50, 250), random(50, 250), random(50, 255), 100);
  line(mouseX, mouseY, pmouseX, pmouseY);
  line(mouseY, mouseX, pmouseY, pmouseX);
  line(mouseY+random(-10, 10), mouseX+random(-10, 10), pmouseY+random(-10, 10), pmouseX+random(-10, 10));
  line(mouseX+random(-10, 10), mouseY+random(-10, 10), pmouseX+random(-10, 10), pmouseY+random(-10, 10));
  line(mouseY+random(-20, 10), mouseX+random(-20, 20), pmouseY+random(-20, 20), pmouseX+random(-20, 10));
  line(mouseX+random(-20, 20), mouseY+random(-20, 20), pmouseX+random(-20, 20), pmouseY+random(-20, 10));
  line(widthOfWindow-mouseX, mouseY, widthOfWindow-pmouseX, pmouseY);
  line(widthOfWindow-mouseY, mouseX, widthOfWindow-pmouseY, pmouseX);
  line(widthOfWindow-mouseY+random(-10, 10), mouseX+random(-10, 10), widthOfWindow-pmouseY+random(-10, 10), pmouseX+random(-10, 10));
  line(widthOfWindow-mouseX+random(-10, 10), mouseY+random(-10, 10), widthOfWindow-pmouseX+random(-10, 10), pmouseY+random(-10, 10));
  line(widthOfWindow-mouseY+random(-20, 10), mouseX+random(-20, 20), widthOfWindow-pmouseY+random(-20, 20), pmouseX+random(-20, 10));
  line(widthOfWindow-mouseX+random(-20, 20), mouseY+random(-20, 20), widthOfWindow-pmouseX+random(-20, 20), pmouseY+random(-20, 10));


  noStroke();
  fill(random(150, 200), random(150, 200), random(0, 255), 100);
  ellipse(mouseX+random(-40, 40), mouseY+random(-40, 40), random(-10, 10), random(-10, 10));
  ellipse(mouseY+random(-40, 40), mouseX+random(-40, 40), random(-10, 10), random(-10, 10));
  ellipse(pmouseY+random(-40, 40), pmouseX+random(-40, 40), random(-10, 10), random(-10, 10));
  ellipse(pmouseY+random(-40, 20), pmouseX+random(-40, 40), random(-10, 10), random(-10, 10));
  ellipse(pmouseY+random(-40, 40), pmouseX+random(-40, 40), random(-10, 10), random(-10, 10));
  ellipse(widthOfWindow-mouseX+random(-40, 40), mouseY+random(-40, 40), random(-10, 10), random(-10, 10));
  ellipse(widthOfWindow-mouseY+random(-40, 40), mouseX+random(-40, 40), random(-10, 10), random(-10, 10));
  ellipse(widthOfWindow-pmouseY+random(-40, 40), pmouseX+random(-40, 40), random(-10, 10), random(-10, 10));
  ellipse(widthOfWindow-pmouseY+random(-40, 20), pmouseX+random(-40, 40), random(-10, 10), random(-10, 10));
  ellipse(widthOfWindow-pmouseY+random(-40, 40), pmouseX+random(-40, 40), random(-10, 10), random(-10, 10));
}

void wherevermouseis2() {
  stroke(random(100, 200), random(100, 200), random(50, 255), 40);
  line(mouseX, mouseY, pmouseX, pmouseY);
  line(mouseX+random(-10, 10), mouseY+random(-10, 10), pmouseX+random(-10, 10), pmouseY+random(-10, 10));
  line(mouseX+random(-20, 20), mouseY+random(-20, 20), pmouseX+random(-20, 20), pmouseY+random(-20, 10));
  noStroke();
  fill(random(150, 200), random(150, 200), random(0, 255), 100);
  ellipse(mouseX+random(-40, 40), mouseY+random(-40, 40), random(-10, 10), random(-10, 10));
}

boolean isMouseMoving(float X, float Y, float D)
{

  float d=dist(mouseX, mouseY, X, Y);
  if (d>D)
    return true;
  else return false;
}

void calltheRain() {
  for (int i=0; i<howMany; i++) {
    noStroke();
    fill(145, 30*speed[i], 70*speed[i], 30);
    ellipse(x[i], y[i], speed[i], speed[i]);
    y[i] += speed[i]/2;
    if (y[i] > height) 
      y[i] = 0;
  }
}

void initializeRain() {
  for (int i=0; i<howMany; i++) {
    x[i] = random(0, widthOfWindow);
    y[i] =random(0, heightOfWindow);
    speed[i] = random(1, 5);
  }
}

void BuildResume() {
  //Your Resume Here
  imageMode(CENTER);
  image(img, widthOfWindow-img.width/2-padd/4, heightOfWindow/3-padd/4);
}

void loadStart()
{
  if (isMouseMoving(L, S, 1)) {
    wherevermouseis();
    wherevermouseis();
    L=mouseX;
    S=mouseY;
  }
  createStoryButton(widthOfWindow/2-padd, heightOfWindow/2);
  createResumeButton(widthOfWindow/2+padd, heightOfWindow/2);
  imageMode(CENTER);
  image(img, widthOfWindow/2, heightOfWindow/3);
  fill(random(0, 255), 102, 153);                          // CHANGING COLORS HERE <<<-------------------------------------
  Font2 = createFont("Arial", 23);
  textFont(Font2);
  text("Hi", widthOfWindow/2, heightOfWindow/2+padd/8);
}


class Ball {
  float x;
  float y;
  float xspeed;
  float yspeed;
  boolean t;
  float diameter;
  color c;

  Ball() {                    //overloading
    x=random(0, widthOfWindow);
    y=random(0, heightOfWindow);
    xspeed=random(0, 3);
    yspeed=random(0, 4);
    diameter=random(24, 50);
    t=true;
    c=color(0);
  }

  Ball(color col) {                    //overloading
    x=random(0, widthOfWindow);
    y=random(0, heightOfWindow);
    xspeed=random(0, 3);
    yspeed=random(0, 4);
    t=true;
    c=color(col);
  }
  void displayBall(int x, int y) {
    noStroke();
    fill(c);
    ellipse(x, y, 40, 40);
  }

  void moveBall() {
    x=x+xspeed;
    y=y+yspeed;
  }

  void checkEdges() {
    if (x>widthOfWindow || x<0)
      xspeed=xspeed*-1;
    if (y>heightOfWindow || y<0)
      yspeed=yspeed*-1;
  }
  void pop() {
    t=!t;
  }
};

class TextManager {

  String w = "";
  String defaultText = "Zaman Ishtiyaq was born on 16th of July 1995, he does not remember it but that is what people say. He spent his early childhood in Srinagar, Jammu and Kashmir. His parents moved to New Delhi during his teenage and so did he. Zaman completed his matriculation from Green Fields School, New Delhi securing a 10/10 CGPA, yes he was,no is a bright child. After his matriculation his parents again moved back to Srinagar and he completed his secondary education from Army public School, Srinagar with excellent grades. Zaman joined IIT Bhubaneswar a year later and is now busy writing this. He is currently a second year Undergraduate Student and is majoring in Computer Science and Engineering. He likes to study Image Processing and Computer Vision. He is also a very active photographer, likes to play football a lot, read books, poetry and make short films once in a while. He is very fond of Mountaineering, Trekking, Mountain Biking, Skiing, Design, Reading Books and Skateboarding and is trying competitive swimming right now. That's is for today,     And Let's Repeat ...";
  String SPLIT_TOKENS = " ?;:[]<>()\"";
  String words[];
  int charIndex = 0;
  int wordIndex = 0;

  TextManager() {
    w = defaultText;
    words = splitTokens(w, SPLIT_TOKENS);
  }

  TextManager(String wInput) {
    w = wInput;
    words = splitTokens(w, SPLIT_TOKENS);
  }

  // getChar and getWord indexes are not yoked together
  char getChar() {
    char c = w.charAt(charIndex);
    charIndex = (charIndex + 1) % w.length();
    return c;
  }

  String getWord() {
    String word = words[wordIndex];
    wordIndex = (wordIndex + 1) % words.length;
    return word;
  }
}


     </script>
     
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js" type="text/javascript"></script>
</head>
 <body>
   <canvas id="pjs"> </canvas>
</body>
 </html>
